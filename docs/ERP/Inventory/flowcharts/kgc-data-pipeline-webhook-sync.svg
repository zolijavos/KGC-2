<svg xmlns="http://www.w3.org/2000/svg" viewBox="140 -20 580 1360" class="w-full h-auto">
<defs>
<style>.excalidraw-text { font-family: Segoe UI, Arial, sans-serif; }</style>
<marker id="ah" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#1e1e1e"/>
</marker>
<marker id="ah-blue" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#1976d2"/>
</marker>
<marker id="ah-green" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#388e3c"/>
</marker>
<marker id="ah-orange" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#f57c00"/>
</marker>
</defs>
<rect x="140" y="-20" width="580" height="1360" fill="#ffffff"/>
<text x="430" y="40" font-size="20" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Webhook Szinkronizáció - v1.0</text>
<text x="430" y="64" font-size="20" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Data Pipeline (unchanged in v2.0)</text>
<ellipse cx="400" cy="130" rx="60" ry="30" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" opacity="1"/>
<text x="400" y="116" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">START</text>
<text x="400" y="135.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Webhook</text>
<rect x="320" y="240" width="160" height="80" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" rx="8" opacity="1"/>
<text x="400" y="256" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Parse JSON</text>
<text x="400" y="275.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">payload</text>
<polygon points="400,400 470,450 400,500 330,450" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" opacity="1"/>
<text x="400" y="416" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">HMAC</text>
<text x="400" y="435.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">signature OK?</text>
<rect x="320" y="580" width="160" height="80" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" rx="8" opacity="1"/>
<text x="400" y="596" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Extract data</text>
<text x="400" y="615.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">(cikk_id, status)</text>
<polygon points="400,740 470,790 400,840 330,790" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" opacity="1"/>
<text x="400" y="756" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Inventory</text>
<text x="400" y="775.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">event?</text>
<rect x="320" y="920" width="160" height="80" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" rx="8" opacity="1"/>
<text x="400" y="936" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Call Inventory API</text>
<text x="400" y="955.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">updateBergepStatus()</text>
<rect x="320" y="1080" width="160" height="80" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" rx="8" opacity="1"/>
<text x="400" y="1096" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Log webhook</text>
<text x="400" y="1115.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">event + result</text>
<ellipse cx="400" cy="1270" rx="60" ry="30" stroke="#2e7d32" fill="#c8e6c9" stroke-width="2" opacity="1"/>
<text x="400" y="1256" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">END</text>
<text x="400" y="1275.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">200 OK</text>
<ellipse cx="620" cy="450" rx="60" ry="30" stroke="#d32f2f" fill="#ffcdd2" stroke-width="2" opacity="1"/>
<text x="620" y="436" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Error 401</text>
<text x="620" y="455.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Unauthorized</text>
<ellipse cx="620" cy="790" rx="60" ry="30" stroke="#757575" fill="#e0e0e0" stroke-width="2" opacity="1"/>
<text x="620" y="776" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Ignore</text>
<text x="620" y="795.2" font-size="16" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">(Other event)</text>
<path d="M 400 170 L 400 230" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<path d="M 400 330 L 400 390" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<path d="M 400 510 L 400 570" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="410" y="546" font-size="16" fill="#2e7d32" text-anchor="start" class="excalidraw-text" opacity="1">igen</text>
<path d="M 480 450 L 550 450" stroke="#d32f2f" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="500" y="446" font-size="16" fill="#d32f2f" text-anchor="start" class="excalidraw-text" opacity="1">nem</text>
<path d="M 400 670 L 400 730" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<path d="M 400 850 L 400 910" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="410" y="886" font-size="16" fill="#2e7d32" text-anchor="start" class="excalidraw-text" opacity="1">igen</text>
<path d="M 480 790 L 550 790" stroke="#757575" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="500" y="786" font-size="16" fill="#757575" text-anchor="start" class="excalidraw-text" opacity="1">nem</text>
<path d="M 400 1010 L 400 1070" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<path d="M 400 1170 L 400 1230" stroke="#2e7d32" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
</svg>