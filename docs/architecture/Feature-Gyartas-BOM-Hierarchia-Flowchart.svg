<svg xmlns="http://www.w3.org/2000/svg" viewBox="60 -20 1030 1320" class="w-full h-auto">
<defs>
<style>.excalidraw-text { font-family: Segoe UI, Arial, sans-serif; }</style>
<marker id="ah" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#1e1e1e"/>
</marker>
<marker id="ah-blue" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#1976d2"/>
</marker>
<marker id="ah-green" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#388e3c"/>
</marker>
<marker id="ah-orange" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#f57c00"/>
</marker>
</defs>
<rect x="60" y="-20" width="1030" height="1320" fill="#ffffff"/>
<text x="500" y="48" font-size="28" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">BOM Hierarchia Feldolgozás (Explosion)</text>
<ellipse cx="500" cy="120" rx="40" ry="40" stroke="#1e1e1e" fill="#d3f9d8" stroke-width="2" opacity="1"/>
<text x="500" y="122" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">START</text>
<path d="M 500 160 L 500 200" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<rect x="380" y="210" width="240" height="60" stroke="#1971c2" fill="#e7f5ff" stroke-width="2" rx="0" opacity="1"/>
<text x="500" y="239" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">BOM Header betöltése</text>
<text x="500" y="255.8" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">(bom_header rekord)</text>
<path d="M 500 270 L 500 310" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<rect x="380" y="320" width="240" height="60" stroke="#1971c2" fill="#e7f5ff" stroke-width="2" rx="0" opacity="1"/>
<text x="500" y="349" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Gyökér szintű sorok</text>
<text x="500" y="365.8" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">lekérdezése (level=1)</text>
<path d="M 500 380 L 500 420" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<polygon points="500,430 580,480 500,530 420,480" stroke="#e67700" fill="#fff3bf" stroke-width="2" opacity="1"/>
<text x="500" y="477" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Van még</text>
<text x="500" y="491.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">feldolgozandó sor?</text>
<path d="M 500 530 L 500 570" stroke="#2f9e44" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="510" y="552" font-size="12" fill="#2f9e44" text-anchor="start" class="excalidraw-text" opacity="1">IGEN</text>
<path d="M 580 480 L 700 480" stroke="#e03131" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="620" y="472" font-size="12" fill="#e03131" text-anchor="start" class="excalidraw-text" opacity="1">NEM</text>
<polygon points="500,580 580,630 500,680 420,630" stroke="#e67700" fill="#fff3bf" stroke-width="2" opacity="1"/>
<text x="500" y="627" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Komponens</text>
<text x="500" y="641.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">típusa?</text>
<path d="M 420 630 L 300 630" stroke="#9c36b5" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="330" y="622" font-size="12" fill="#9c36b5" text-anchor="middle" class="excalidraw-text" opacity="1">FÉLKÉSZ</text>
<path d="M 580 630 L 700 630" stroke="#1971c2" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="660" y="622" font-size="12" fill="#1971c2" text-anchor="middle" class="excalidraw-text" opacity="1">ALAPANYAG</text>
<rect x="100" y="600" width="200" height="80" stroke="#9c36b5" fill="#f3d9fa" stroke-width="2" rx="0" opacity="1"/>
<text x="200" y="627" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Rekurzív BOM</text>
<text x="200" y="641.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">bontás (explosion)</text>
<text x="200" y="655.8" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Al-BOM betöltése</text>
<rect x="700" y="600" width="200" height="60" stroke="#1971c2" fill="#e7f5ff" stroke-width="2" rx="0" opacity="1"/>
<text x="800" y="627" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Levél komponens</text>
<text x="800" y="641.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">(nem bontható)</text>
<path d="M 200 600 L 200 470 L 420 470" stroke="#9c36b5" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="150" y="522" font-size="12" fill="#9c36b5" text-anchor="middle" class="excalidraw-text" opacity="1">Rekurzió</text>
<path d="M 800 660 L 800 700" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<rect x="700" y="710" width="200" height="60" stroke="#1971c2" fill="#e7f5ff" stroke-width="2" rx="0" opacity="1"/>
<text x="800" y="737" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Mennyiség számítás</text>
<text x="800" y="751.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">(szülő × komponens qty)</text>
<path d="M 800 770 L 800 810" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<rect x="700" y="820" width="200" height="60" stroke="#2f9e44" fill="#d3f9d8" stroke-width="2" rx="0" opacity="1"/>
<text x="800" y="847" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Hozzáadás a</text>
<text x="800" y="861.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">laposított BOM-hoz</text>
<path d="M 700 850 L 420 850 L 420 440" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<text x="420" y="872" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Következő sor</text>
<rect x="700" y="440" width="200" height="80" stroke="#2f9e44" fill="#d3f9d8" stroke-width="2" rx="0" opacity="1"/>
<text x="800" y="467" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">Laposított BOM</text>
<text x="800" y="481.4" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">kimenet</text>
<text x="800" y="495.8" font-size="12" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">(flat_bom_lines)</text>
<path d="M 900 480 L 960 480" stroke="#1e1e1e" fill="none" stroke-width="2" marker-end="url(#ah)" opacity="1"/>
<ellipse cx="1010" cy="480" rx="40" ry="40" stroke="#e03131" fill="#ffe3e3" stroke-width="2" opacity="1"/>
<text x="1010" y="482" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">END</text>
<rect x="100" y="750" width="280" height="180" stroke="#868e96" fill="#f8f9fa" stroke-width="1" rx="0" opacity="1"/>
<text x="240" y="774" font-size="14" fill="#1e1e1e" text-anchor="middle" class="excalidraw-text" opacity="1">JELMAGYARÁZAT</text>
<rect x="120" y="795" width="30" height="20" stroke="#1971c2" fill="#e7f5ff" stroke-width="1" rx="0" opacity="1"/>
<text x="160" y="807" font-size="12" fill="#1e1e1e" text-anchor="start" class="excalidraw-text" opacity="1">Feldolgozási lépés</text>
<polygon points="135,825 150,835 135,845 120,835" stroke="#e67700" fill="#fff3bf" stroke-width="1" opacity="1"/>
<text x="160" y="837" font-size="12" fill="#1e1e1e" text-anchor="start" class="excalidraw-text" opacity="1">Döntési pont</text>
<rect x="120" y="855" width="30" height="20" stroke="#9c36b5" fill="#f3d9fa" stroke-width="1" rx="0" opacity="1"/>
<text x="160" y="867" font-size="12" fill="#1e1e1e" text-anchor="start" class="excalidraw-text" opacity="1">Rekurzív feldolgozás (félkész)</text>
<rect x="120" y="885" width="30" height="20" stroke="#2f9e44" fill="#d3f9d8" stroke-width="1" rx="0" opacity="1"/>
<text x="160" y="897" font-size="12" fill="#1e1e1e" text-anchor="start" class="excalidraw-text" opacity="1">Eredmény / Output</text>
<text x="120" y="921" font-size="11" fill="#868e96" text-anchor="start" class="excalidraw-text" opacity="1">Multi-level BOM: max 2-3 szint</text>
</svg>