# KGC ERP - Adatszinkronizรกciรณ Diagram

**Diagram tรญpus:** Adatfolyam & Szinkronizรกciรณ
**Verziรณ:** 2.0
**Dรกtum:** 2025-12-20

---

## 1. Partner Szinkronizรกciรณ (Aszinkron, 5 perc)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  PARTNER LรTREHOZรS / MรDOSรTรS                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=0ms                       ADMIN INPUT
                                โ
                                โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Frontend        โ
                    โ   (React Form)        โ
                    โ                       โ
                    โ INPUT:                โ
                    โ โข Nรฉv: "Kovรกcs Jรกnos" โ
                    โ โข Cรญm: "Budapest..."  โ
                    โ โข Tel: "+36 20..."    โ
                    โ โข Email: "kovacs@..." โ
                    โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                                โ POST /api/partners
                                โ
T=50ms                          โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Backend                 โ
                    โ   (NestJS Controller)         โ
                    โ                               โ
                    โ 1. Validรกciรณ                  โ
                    โ    โข Email format check       โ
                    โ    โข Phone format check       โ
                    โ    โข Duplikรกciรณ check         โ
                    โ                               โ
                    โ 2. DB INSERT                  โ
                    โ    kgc.partners:              โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โ    โ id: 123              โ   โ
                    โ    โ nev: "Kovรกcs Jรกnos"  โ   โ
                    โ    โ cim: "Budapest..."   โ   โ
                    โ    โ tel: "+36 20..."     โ   โ
                    โ    โ email: "kovacs@..."  โ   โ
                    โ    โ twenty_id: NULL      โ   โ
                    โ    โ chat_id: NULL        โ   โ
                    โ    โ sync_status: "pending"โ  โ
                    โ    โ created_at: NOW()    โ   โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โ                               โ
                    โ 3. Response (201 Created)     โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                โ
T=150ms                         โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   User lรกtja:         โ
                    โ   โ Partner mentve   โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=5 perc              HรTTรR SZINKRONIZรCIร (Cron Job)

                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Sync Service (NestJS Cron)      โ
                    โ   @Cron('*/5 * * * *')            โ
                    โ                                   โ
                    โ SQL Query:                        โ
                    โ SELECT * FROM kgc.partners        โ
                    โ WHERE sync_status = 'pending'     โ
                    โ LIMIT 100;                        โ
                    โ                                   โ
                    โ Result: [Partner #123, ...]       โ
                    โโโโโโโโโโโโฌโโโโโโโโโโโโฌโโโโโโโโโโโโโ
                               โ           โ
                    โโโโโโโโโโโโ           โโโโโโโโโโโโ
                    โ                                 โ
T=5min +100ms       โผ                                 โผ
        โโโโโโโโโโโโโโโโโโโโโโโโโ       โโโโโโโโโโโโโโโโโโโโโโโโโ
        โ  Twenty GraphQL API   โ       โ  Chatwoot REST API    โ
        โ                       โ       โ                       โ
        โ mutation {            โ       โ POST /api/v1/contacts โ
        โ   createPerson(       โ       โ                       โ
        โ     firstName:"Kovรกcs"โ       โ Body: {               โ
        โ     lastName: "Jรกnos" โ       โ   name:"Kovรกcs Jรกnos" โ
        โ     email:"kovacs@..."โ       โ   email:"kovacs@..."  โ
        โ     phone:"+36 20..." โ       โ   phone:"+36 20..."   โ
        โ   ) {                 โ       โ }                     โ
        โ     id                โ       โ                       โ
        โ   }                   โ       โ Response: {           โ
        โ }                     โ       โ   id: 456             โ
        โ                       โ       โ }                     โ
        โ Response: {           โ       โ                       โ
        โ   id: "abc-xyz-123"   โ       โ                       โ
        โ }                     โ       โ                       โ
        โโโโโโโโโโโโโฌโโโโโโโโโโโโ       โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                    โ                               โ
T=5min +250ms       โโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                                    โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Backend (DB Update)         โ
                    โ                                   โ
                    โ UPDATE kgc.partners               โ
                    โ SET                               โ
                    โ   twenty_person_id = 'abc-xyz-123'โ
                    โ   chatwoot_contact_id = 456       โ
                    โ   sync_status = 'synced'          โ
                    โ   last_sync_at = NOW()            โ
                    โ WHERE id = 123;                   โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=5min +300ms       โ SZINKRONIZรCIร BEFEJEZVE


โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

                         HIBAKEZELรS

                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Ha Twenty API timeout:          โ
                    โ                                   โ
                    โ 1. Retry #1 (after 1 sec)         โ
                    โ 2. Retry #2 (after 5 sec)         โ
                    โ 3. Retry #3 (after 15 sec)        โ
                    โ                                   โ
                    โ Ha mind sikertelen:               โ
                    โ   sync_status = 'failed'          โ
                    โ   sync_error = 'Twenty timeout'   โ
                    โ   retry_count = 3                 โ
                    โ   next_retry_at = NOW() + 1h      โ
                    โ                                   โ
                    โ Email alert โ Admin               โ
                    โ "Partner sync failed: #123"       โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 2. Dolgozรณ Szinkronizรกciรณ (Aszinkron, 5 perc)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  DOLGOZร LรTREHOZรS (KGC โ HORILLA)                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=0ms                       ADMIN INPUT
                                โ
                                โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Frontend        โ
                    โ   (Csapat menรผ)       โ
                    โ                       โ
                    โ INPUT:                โ
                    โ โข Nรฉv: "Nagy รva"     โ
                    โ โข Email: "eva@kgc.hu" โ
                    โ โข Pozรญciรณ: "Szerelล"  โ
                    โ โข Belรฉpรฉs: 2025-01-15 โ
                    โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                                โ POST /api/users
                                โ
T=50ms                          โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Backend                 โ
                    โ                               โ
                    โ 1. User lรฉtrehozรกs            โ
                    โ    kgc.users:                 โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โ    โ id: 789              โ   โ
                    โ    โ nev: "Nagy รva"      โ   โ
                    โ    โ email: "eva@kgc.hu"  โ   โ
                    โ    โ role: "technician"   โ   โ
                    โ    โ pozicio: "Szerelล"   โ   โ
                    โ    โ belepes: 2025-01-15  โ   โ
                    โ    โ horilla_emp_id: NULL โ   โ
                    โ    โ sync_status:         โ   โ
                    โ    โ   "pending_hr"       โ   โ
                    โ    โ created_at: NOW()    โ   โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โ                               โ
                    โ 2. Email kรผldรฉs (Welcome)     โ
                    โ    โ "รdv a KGC-ben!"         โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=5 perc              HORILLA SZINKRONIZรCIร

                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Sync Service                    โ
                    โ                                   โ
                    โ SQL Query:                        โ
                    โ SELECT * FROM kgc.users           โ
                    โ WHERE sync_status = 'pending_hr'  โ
                    โ                                   โ
                    โ Result: [User #789]               โ
                    โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
                                   โ
T=5min +50ms                       โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Horilla REST API                โ
                    โ                                   โ
                    โ POST /api/employees               โ
                    โ                                   โ
                    โ Body: {                           โ
                    โ   employee_first_name: "Nagy"     โ
                    โ   employee_last_name: "รva"       โ
                    โ   email: "eva@kgc.hu"             โ
                    โ   badge_id: "E789"                โ
                    โ   employee_work_info: {           โ
                    โ     job_position: "Szerelล"       โ
                    โ     employee_type: "permanent"    โ
                    โ     date_joining: "2025-01-15"    โ
                    โ   }                               โ
                    โ }                                 โ
                    โ                                   โ
                    โ Response: {                       โ
                    โ   id: 456,                        โ
                    โ   employee_first_name: "Nagy",    โ
                    โ   ...                             โ
                    โ }                                 โ
                    โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
                                   โ
T=5min +150ms                      โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Backend (DB Update)         โ
                    โ                                   โ
                    โ UPDATE kgc.users                  โ
                    โ SET                               โ
                    โ   horilla_employee_id = 456       โ
                    โ   sync_status = 'synced'          โ
                    โ   last_sync_at = NOW()            โ
                    โ WHERE id = 789;                   โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=5min +200ms       โ DOLGOZร LรTREHOZVA HORILLA-BAN

                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Admin megnyitja "HR Adatok" tab โ
                    โ   โ Horilla iframe betรถltลdik     โ
                    โ   โ Nagy รva megjelenik listรกban  โ
                    โ   โ Szabadsรกg egyenleg: 20 nap    โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 3. Szรกmla Kiรกllรญtรกs (Szinkron, Valรณs idejลฑ)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              SZรMLA KIรLLรTรS (KGC โ SZรMLรZZ.HU)                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=0ms                       ADMIN INPUT
                                โ
                                โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Frontend                โ
                    โ   (Pรฉnzรผgy menรผ)              โ
                    โ                               โ
                    โ "Havi szรกmlรกzรกs" indรญtรกsa     โ
                    โ                               โ
                    โ Partner: Kovรกcs Jรกnos         โ
                    โ Tรฉtelek:                      โ
                    โ โข Bรฉrgรฉp XY: 15,000 Ft        โ
                    โ รFA 27%: 4,050 Ft             โ
                    โ รsszesen: 19,050 Ft           โ
                    โโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโ
                                โ POST /api/invoices
                                โ
T=100ms                         โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Finance Module              โ
                    โ                                   โ
                    โ 1. Szรกmla elลรกllรญtรกs              โ
                    โ    invoice_data = {               โ
                    โ      partner_id: 123,             โ
                    โ      tetelek: [{                  โ
                    โ        megnevezes: "Bรฉrgรฉp XY",   โ
                    โ        mennyiseg: 30,             โ
                    โ        egysegar: 500,             โ
                    โ        afa: 27                    โ
                    โ      }],                          โ
                    โ      osszesen: 19050              โ
                    โ    }                              โ
                    โ                                   โ
                    โ 2. Validรกciรณ                      โ
                    โ    โข Partner lรฉtezik?             โ
                    โ    โข รFA szรกmรญtรกs helyes?         โ
                    โ    โข Tรฉtelek nem รผresek?          โ
                    โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
                                   โ OK โ
T=200ms                            โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Szรกmlรกzz.hu Adapter             โ
                    โ   (SZINKRON API CALL)             โ
                    โ                                   โ
                    โ POST https://www.szamlazz.hu/     โ
                    โ      szamla-agent/szamla-agent    โ
                    โ                                   โ
                    โ XML Body:                         โ
                    โ <xmlszamla>                       โ
                    โ   <beallitasok>                   โ
                    โ     <szamlaagentkulcs>***</...>   โ
                    โ     <elolegszamla>false</...>     โ
                    โ   </beallitasok>                  โ
                    โ   <fejlec>                        โ
                    โ     <keltDatum>2025-01-20</...>   โ
                    โ     <fizmod>รกtutalรกs</...>        โ
                    โ   </fejlec>                       โ
                    โ   <elado>...</elado>              โ
                    โ   <vevo>                          โ
                    โ     <nev>Kovรกcs Jรกnos</nev>       โ
                    โ     <email>kovacs@...</email>     โ
                    โ     ...                           โ
                    โ   </vevo>                         โ
                    โ   <tetelek>                       โ
                    โ     <tetel>                       โ
                    โ       <megnevezes>Bรฉrgรฉp XY</...> โ
                    โ       <mennyiseg>30</...>         โ
                    โ       <mennyisegiEgyseg>nap</...> โ
                    โ       <nettoEgysegar>500</...>    โ
                    โ       <afakulcs>27</...>          โ
                    โ     </tetel>                      โ
                    โ   </tetelek>                      โ
                    โ </xmlszamla>                      โ
                    โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
                                   โ
                                   โ WAITING... (1-3 sec)
                                   โ
T=3000ms                           โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   Szรกmlรกzz.hu Backend             โ
                    โ   (Cloud Processing)              โ
                    โ                                   โ
                    โ 1. PDF generรกlรกs                  โ
                    โ    โข Szรกmlaszรกm: KGC-2025-001     โ
                    โ    โข Template rendering           โ
                    โ    โข QR kรณd generรกlรกs             โ
                    โ                                   โ
                    โ 2. NAV Online Szรกmla API (v3.0)   โ
                    โ    โข XML feladรกs NAV-nak          โ
                    โ    โข Adรณszรกm validรกciรณ            โ
                    โ    โข Tranzakciรณ ID kapรกsa         โ
                    โ                                   โ
                    โ 3. Response kรฉszรญtรฉs              โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โ    โ szamlazzHuId: 789        โ   โ
                    โ    โ szamlaszam: "KGC-2025-001โ   โ
                    โ    โ pdfUrl: "https://..."    โ   โ
                    โ    โ navStatus: "feladva"     โ   โ
                    โ    โ navTransactionId: "xyz..." โ  โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
                                   โ
T=3200ms                           โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Finance Module              โ
                    โ                                   โ
                    โ 1. PDF letรถltรฉs (pdfUrl)          โ
                    โ    โ /bizonylatok/szamlak/        โ
                    โ       2025-001.pdf                โ
                    โ                                   โ
                    โ 2. DB INSERT                      โ
                    โ    kgc.szamlak:                   โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โ    โ id: 555                  โ   โ
                    โ    โ szamlaszam: "KGC-2025-001โ   โ
                    โ    โ partner_id: 123          โ   โ
                    โ    โ osszeg: 19050            โ   โ
                    โ    โ szamlazz_hu_id: 789      โ   โ
                    โ    โ nav_status: "feladva"    โ   โ
                    โ    โ nav_transaction_id: "xyz"โ   โ
                    โ    โ pdf_path: "/bizonylatok/"โ   โ
                    โ    โ created_at: NOW()        โ   โ
                    โ    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
                    โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
                                   โ
T=3400ms                           โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   User lรกtja:                     โ
                    โ   โ Szรกmla kiรกllรญtva             โ
                    โ   ๐ PDF letรถltรฉs gomb            โ
                    โ   ๐ข NAV stรกtusz: Feladva         โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

TOTAL IDร: ~3.4 mรกsodperc (user szempontjรกbรณl)
```

---

## 4. Dashboard Aggregรกciรณ (Cache, 1 perc)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              UNIFIED DASHBOARD BETรLTรS (5 RENDSZER)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

T=0ms                       USER KATTINTรS
                                โ
                                โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Frontend        โ
                    โ   (Dashboard menรผ)    โ
                    โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                                โ GET /api/dashboard
                                โ
T=20ms                          โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   KGC Backend (Dashboard API)     โ
                    โ                                   โ
                    โ 1. Cache ellenลrzรฉs (Redis)      โ
                    โ    Key: "dashboard:user:456"      โ
                    โ    TTL: 60 sec                    โ
                    โโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโฌโโโโโโโ
                               โ                 โ
                    Cache HIT? โ                 โ Cache MISS?
                               โผ                 โผ
                    โโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโโโโโโ
                    โ Redis return โ   โ Parallel API Calls   โ
                    โ (instant)    โ   โ (5 rendszer)         โ
                    โ              โ   โ                      โ
                    โ Response:    โ   โ โโโโโโโโโโโโโโโโโโโโโ
                    โ { deals:15,  โ   โ โ Twenty GraphQL   โโ
                    โ   tickets:8, โ   โ โ query {          โโ
                    โ   emps:25,   โ   โ โ   deals(         โโ
                    โ   revenue:.. โ   โ โ     filter:{     โโ
                    โ }            โ   โ โ       status:    โโ
                    โ              โ   โ โ       "active"   โโ
                    โ TOTAL: 20ms  โ   โ โ     }            โโ
                    โโโโโโโโโโโโโโโโ   โ โ   ) {            โโ
                                       โ โ     totalCount   โโ
                T=50ms                 โ โ   }              โโ
                    โโโโโโโโโโโโโโโโโโโโค โ }                โโ
                    โ                  โ โโโโโโโโโโโโโโโโโโโโโ
                    โ โโโโโโโโโโโโโโโโ โ โโโโโโโโโโโโโโโโโโโโโ
                    โ โ Chatwoot RESTโ โ โ Horilla REST     โโ
                    โ โ GET /api/v1/ โ โ โ GET /api/        โโ
                    โ โ conversationsโ โ โ employees/count  โโ
                    โ โ ?status=open โ โ โ                  โโ
                    โ โโโโโโโโโโโโโโโโ โ โโโโโโโโโโโโโโโโโโโโโ
                    โ                  โ                      โ
                    โ โโโโโโโโโโโโโโโโ โ โโโโโโโโโโโโโโโโโโโโโ
                    โ โ Szรกmlรกzz.hu  โ โ โ KGC DB Query     โโ
                    โ โ GET /api/    โ โ โ SELECT           โโ
                    โ โ invoices/    โ โ โ SUM(osszeg)      โโ
                    โ โ stats        โ โ โ FROM berlesek    โโ
                    โ โโโโโโโโโโโโโโโโ โ โ WHERE month=12   โโ
                    โ                  โ โโโโโโโโโโโโโโโโโโโโโ
                    โ                  โโโโโโโโโโโโโโโโโโโโโโโโ
                    โ
                    โ 2. Aggregรกciรณ
T=900ms             โ    result = {
                    โ      deals: 15,       (Twenty)
                    โ      tickets: 8,      (Chatwoot)
                    โ      employees: 25,   (Horilla)
                    โ      revenue: 450000, (KGC DB)
                    โ      invoices: 120    (Szรกmlรกzz.hu)
                    โ    }
                    โ
                    โ 3. Redis cache mentรฉs
                    โ    SET "dashboard:user:456" = result
                    โ    EXPIRE 60 sec
                    โ
                    โ 4. Response (200 OK)
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                   โ
T=920ms                            โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   User lรกtja:                     โ
                    โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
                    โ   โ รj Deals: 15 โ 20%          โ โ
                    โ   โ Bรฉrletek: 120 โ 5%          โ โ
                    โ   โ Support: 8 โ 15%            โ โ
                    โ   โ Dolgozรณk: 25 โ 0%           โ โ
                    โ   โ Havi bevรฉtel: 450k Ft โ 12% โ โ
                    โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

CACHE HIT:  ~20ms betรถltรฉs โก
CACHE MISS: ~900ms betรถltรฉs (de csak 1x / 60 sec)
```

---

## 5. Szinkronizรกciรณs Stรกtusz Nyomkรถvetรฉs

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 SYNC STATUS STรTUSZ GRรF                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

                    โโโโโโโโโโโโโโ
                    โ  CREATED   โ  รj rekord lรฉtrejรถtt
                    โ  (pending) โ
                    โโโโโโโโฌโโโโโโ
                           โ
                           โ Cron job felismeri
                           โผ
                    โโโโโโโโโโโโโโ
                    โ SYNCING    โ  API call folyamatban
                    โโโโโโโโฌโโโโโโ
                           โ
                โโโโโโโโโโโโดโโโโโโโโโโโ
                โ                     โ
         โ Siker                โ Hiba
                โ                     โ
                โผ                     โผ
         โโโโโโโโโโโโโโ        โโโโโโโโโโโโโโ
         โ  SYNCED    โ        โ  FAILED    โ
         โ            โ        โ            โ
         โ โข twenty_idโ        โ โข retry_ct โ
         โ โข chat_id  โ        โ โข error_msgโ
         โ โข last_syncโ        โ โข next_retryโ
         โโโโโโโโโโโโโโ        โโโโโโโโฌโโโโโโ
                                      โ
                              Retry mechanizmus
                              (exponential backoff)
                                      โ
                                      โผ
                              โโโโโโโโโโโโโโ
                              โ RETRYING   โ
                              โ (attempt N)โ
                              โโโโโโโโฌโโโโโโ
                                     โ
                          โโโโโโโโโโโโดโโโโโโโโโโโ
                          โ                     โ
                   โ Siker                โ Max retry
                          โ                     โ
                          โผ                     โผ
                   โโโโโโโโโโโโโโ        โโโโโโโโโโโโโโ
                   โ  SYNCED    โ        โ  MANUAL    โ
                   โ            โ        โ  REQUIRED  โ
                   โ Sikeres!   โ        โ            โ
                   โโโโโโโโโโโโโโ        โ โข Alert    โ
                                         โ โข Admin    โ
                                         โ   action   โ
                                         โโโโโโโโโโโโโโ


Admin Dashboard:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Szinkronizรกciรณs Stรกtusz                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โ Synced:        1,234 rekord                   โ
โ โณ Pending:          12 rekord                   โ
โ ๐ Syncing:           3 rekord                   โ
โ โ Failed:            5 rekord โ ACTION NEEDED!  โ
โ ๐ง Manual required:   1 rekord โ CRITICAL!       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [Rรฉszletek] [Retry all failed] [Export log]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

**Kรฉszรญtette:** Winston (Architect), Amelia (Dev)
**Verziรณ:** 2.0
**Dรกtum:** 2025-12-20
