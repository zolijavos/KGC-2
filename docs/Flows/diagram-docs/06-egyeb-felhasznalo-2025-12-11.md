# 6. EgyÃ©b - FelhasznÃ¡lÃ³k Ã©s JogosultsÃ¡gok

## Diagram AlapinformÃ¡ciÃ³k

| TulajdonsÃ¡g | Ã‰rtÃ©k |
|-------------|-------|
| **FÃ¡jlnÃ©v** | `6-egyeb-felhasznalo-2025-12-11.excalidraw` |
| **TÃ­pus** | Rendszer Diagram |
| **Modul** | AdminisztrÃ¡ciÃ³ / Auth |
| **VerziÃ³** | v3.0 (RBAC 3 szint + PIN) |
| **DÃ¡tum** | 2025-12-11 |
| **KategÃ³ria** | 6. rÃ©sz - EgyÃ©b funkciÃ³k |
| **ForrÃ¡s ADR-ek** | ADR-013 (PIN kÃ³d, belÃ©pÃ©si szintek) |

---

## RÃ©szletes LeÃ­rÃ¡s

Ez a diagram a KGC ERP rendszer **felhasznÃ¡lÃ³ kezelÃ©sÃ©t Ã©s jogosultsÃ¡gi rendszerÃ©t** mutatja be. A v3.0 verziÃ³ tartalmazza:
- ğŸ†• **3 szintÅ± belÃ©pÃ©si rendszer** (ADR-013)
- ğŸ†• **4 szÃ¡mjegyÅ± PIN kÃ³d** emelt funkciÃ³khoz
- ğŸ†• **Session kezelÃ©s** (5 perc inaktivitÃ¡s)
- ğŸ†• **GÃ©p-alapÃº hozzÃ¡fÃ©rÃ©s** (kiosk mÃ³d)

---

## ğŸ†• 3 SzintÅ± BelÃ©pÃ©si Rendszer (ADR-013)

### KoncepciÃ³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ†• BELÃ‰PÃ‰SI SZINTEK (ADR-013)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SZINT 0: AUTOMATIKUS (ÃœgyfÃ©ltÃ©r gÃ©pek)                                â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚  â”‚
â”‚  â”‚ â€¢ PIN NEM szÃ¼ksÃ©ges                                                   â”‚  â”‚
â”‚  â”‚ â€¢ 3 bolti gÃ©p automatikusan ezen a szinten                            â”‚  â”‚
â”‚  â”‚ â€¢ FunkciÃ³k:                                                           â”‚  â”‚
â”‚  â”‚   â”œâ”€ BÃ©rlÃ©s indÃ­tÃ¡s / visszavÃ©tel                                     â”‚  â”‚
â”‚  â”‚   â”œâ”€ Szerviz felvÃ©tel                                                 â”‚  â”‚
â”‚  â”‚   â””â”€ Ã‰rtÃ©kesÃ­tÃ©s (kassza)                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                              â”‚
â”‚                              â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SZINT 1: EMELT (PIN kÃ³ddal)                                           â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚  â”‚
â”‚  â”‚ â€¢ 4 szÃ¡mjegyÅ± PIN szÃ¼ksÃ©ges                                           â”‚  â”‚
â”‚  â”‚ â€¢ EgyÃ©ni kÃ³d (szemÃ©lyenkÃ©nt mÃ¡s)                                      â”‚  â”‚
â”‚  â”‚ â€¢ FunkciÃ³k (Szint 0 + ):                                              â”‚  â”‚
â”‚  â”‚   â”œâ”€ BevÃ©telezÃ©s                                                      â”‚  â”‚
â”‚  â”‚   â”œâ”€ StatisztikÃ¡k megtekintÃ©se                                        â”‚  â”‚
â”‚  â”‚   â””â”€ ÃœgyfÃ©l rÃ©szletes adatok                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                              â”‚
â”‚                              â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SZINT 2: ADMIN (PIN + jogosultsÃ¡g)                                    â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚  â”‚
â”‚  â”‚ â€¢ 4 szÃ¡mjegyÅ± PIN szÃ¼ksÃ©ges                                           â”‚  â”‚
â”‚  â”‚ â€¢ RBAC szerepkÃ¶r ellenÅ‘rzÃ©s                                           â”‚  â”‚
â”‚  â”‚ â€¢ FunkciÃ³k (Szint 0 + Szint 1 + ):                                    â”‚  â”‚
â”‚  â”‚   â”œâ”€ Ãr mÃ³dosÃ­tÃ¡s                                                     â”‚  â”‚
â”‚  â”‚   â”œâ”€ PÃ©nzÃ¼gyi funkciÃ³k                                                â”‚  â”‚
â”‚  â”‚   â”œâ”€ Riportok / Export                                                â”‚  â”‚
â”‚  â”‚   â””â”€ BeÃ¡llÃ­tÃ¡sok                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ†• PIN KÃ³d KezelÃ©s (ADR-013)

### PIN FormÃ¡tum

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ†• PIN KÃ“D SPECIFIKÃCIÃ“                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  FormÃ¡tum: 4 szÃ¡mjegy (0000 - 9999)                             â”‚
â”‚  KombinÃ¡ciÃ³k: 10.000                                            â”‚
â”‚  Ã‰rvÃ©nyessÃ©g: Nem jÃ¡r le automatikusan                          â”‚
â”‚                                                                 â”‚
â”‚  PÃ©lda:                                                         â”‚
â”‚                     â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                           â”‚
â”‚                     â”‚ 4 â”‚ 7 â”‚ 2 â”‚ 1 â”‚                           â”‚
â”‚                     â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PIN Bevitel UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         KGC ERP                                 â”‚
â”‚                                                                 â”‚
â”‚           Emelt funkciÃ³ elÃ©rÃ©sÃ©hez adja meg PIN kÃ³djÃ¡t:         â”‚
â”‚                                                                 â”‚
â”‚                     â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                           â”‚
â”‚                     â”‚ * â”‚ * â”‚ * â”‚ _ â”‚                           â”‚
â”‚                     â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â”‚                 [1] [2] [3]                                     â”‚
â”‚                 [4] [5] [6]                                     â”‚
â”‚                 [7] [8] [9]                                     â”‚
â”‚                     [0]                                         â”‚
â”‚                                                                 â”‚
â”‚              [MÃ©gse]            [BelÃ©pÃ©s]                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BiztonsÃ¡gi SzabÃ¡lyok

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ğŸ†• BIZTONSÃGI SZABÃLYOK                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  HIBÃS PRÃ“BÃLKOZÃSOK:                                           â”‚
â”‚  â”œâ”€ 3 hibÃ¡s prÃ³bÃ¡lkozÃ¡s â†’ 1 perc vÃ¡rakozÃ¡s (countdown)          â”‚
â”‚  â”œâ”€ 10 hibÃ¡s prÃ³bÃ¡lkozÃ¡s â†’ Admin Ã©rtesÃ­tÃ©s (email/push)         â”‚
â”‚  â””â”€ 20 hibÃ¡s prÃ³bÃ¡lkozÃ¡s â†’ FiÃ³k ideiglenesen zÃ¡rolva            â”‚
â”‚                                                                 â”‚
â”‚  SESSION KEZELÃ‰S:                                               â”‚
â”‚  â”œâ”€ InaktivitÃ¡s (5 perc) â†’ VisszaÃ¡ll SZINT 0-ra                 â”‚
â”‚  â”œâ”€ AlkalmazÃ¡s bezÃ¡rÃ¡s â†’ KijelentkezÃ©s                          â”‚
â”‚  â””â”€ BÃ¶ngÃ©szÅ‘ bezÃ¡rÃ¡s â†’ KijelentkezÃ©s                            â”‚
â”‚                                                                 â”‚
â”‚  AUDIT LOG:                                                     â”‚
â”‚  â”œâ”€ Minden PIN bevitel naplÃ³zva                                 â”‚
â”‚  â”œâ”€ Sikeres/sikertelen prÃ³bÃ¡lkozÃ¡sok                            â”‚
â”‚  â””â”€ IP cÃ­m, idÅ‘bÃ©lyeg, eszkÃ¶z azonosÃ­tÃ³                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ†• GÃ©p-AlapÃº HozzÃ¡fÃ©rÃ©s (Kiosk MÃ³d)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ğŸ†• ESZKÃ–Z REGISZTRÃCIÃ“                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  DEVICE_REGISTRATION entitÃ¡s:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ device_id: UUID                                         â”‚    â”‚
â”‚  â”‚ device_type: 'kiosk' / 'backoffice' / 'service'         â”‚    â”‚
â”‚  â”‚ default_role_id: FK â†’ roles                             â”‚    â”‚
â”‚  â”‚ tenant_id: UUID                                         â”‚    â”‚
â”‚  â”‚ location: "Bolt elÅ‘tÃ©r - 1. gÃ©p"                        â”‚    â”‚
â”‚  â”‚ device_name: "KIOSK-01"                                 â”‚    â”‚
â”‚  â”‚ is_active: true                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  GÃ‰PEK BESOROLÃSA:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ğŸ–¥ï¸ KIOSK (3 db bolti gÃ©p):                             â”‚    â”‚
â”‚  â”‚     â”œâ”€ Automatikus SZINT 0 belÃ©pÃ©s                      â”‚    â”‚
â”‚  â”‚     â”œâ”€ ÃœgyfÃ©lkiszolgÃ¡lÃ¡s funkciÃ³k                       â”‚    â”‚
â”‚  â”‚     â””â”€ PIN-nel emelhetÅ‘ a szint                         â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ğŸ’¼ BACKOFFICE (bevÃ©teli gÃ©p):                          â”‚    â”‚
â”‚  â”‚     â”œâ”€ AlapÃ©rtelmezett SZINT 1                          â”‚    â”‚
â”‚  â”‚     â”œâ”€ BevÃ©telezÃ©s, kÃ©szlet kezelÃ©s                     â”‚    â”‚
â”‚  â”‚     â””â”€ Admin funkciÃ³khoz PIN kell                       â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ğŸ”§ SERVICE (szervizes gÃ©pek):                          â”‚    â”‚
â”‚  â”‚     â”œâ”€ EgyÃ©ni bejelentkezÃ©s kÃ¶telezÅ‘                    â”‚    â”‚
â”‚  â”‚     â”œâ”€ Szerviz-specifikus funkciÃ³k                      â”‚    â”‚
â”‚  â”‚     â””â”€ Offline tÃ¡mogatÃ¡s                                â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## JogosultsÃ¡gi MÃ¡trix (FrissÃ­tett)

### Szint 0 - ÃœgyfÃ©ltÃ©r (Automatikus)

| FunkciÃ³ | ElÃ©rhetÅ‘ | MegjegyzÃ©s |
|---------|----------|------------|
| BÃ©rlÃ©s indÃ­tÃ¡s | âœ… | Partner keresÃ©s/felvÃ©tel |
| BÃ©rlÃ©s visszavÃ©tel | âœ… | VonalkÃ³d beolvasÃ¡s |
| Szerviz felvÃ©tel | âœ… | Munkalap lÃ©trehozÃ¡s |
| Ã‰rtÃ©kesÃ­tÃ©s | âœ… | Kassza funkciÃ³k |
| Partner alapadatok | âœ… | NÃ©v, telefon, email |
| GÃ©p informÃ¡ciÃ³ | âœ… | StÃ¡tusz, elÃ©rhetÅ‘sÃ©g |

### Szint 1 - Emelt (PIN kÃ³ddal)

| FunkciÃ³ | ElÃ©rhetÅ‘ | MegjegyzÃ©s |
|---------|----------|------------|
| **Szint 0 Ã¶sszes** | âœ… | - |
| BevÃ©telezÃ©s | âœ… | KÃ©szlet nÃ¶velÃ©s |
| StatisztikÃ¡k | âœ… | Napi/heti Ã¶sszesÃ­tÅ‘k |
| ÃœgyfÃ©l rÃ©szletek | âœ… | ElÅ‘zmÃ©nyek, tartozÃ¡sok |
| KÃ©szlet lekÃ©rdezÃ©s | âœ… | MennyisÃ©gek, helyszÃ­nek |
| Szerviz rÃ©szletek | âœ… | Munkalap tÃ¶rtÃ©net |

### Szint 2 - Admin (PIN + jogosultsÃ¡g)

| FunkciÃ³ | ElÃ©rhetÅ‘ | MegjegyzÃ©s |
|---------|----------|------------|
| **Szint 0 + 1 Ã¶sszes** | âœ… | - |
| Ãr mÃ³dosÃ­tÃ¡s | âœ… | EladÃ¡si Ã¡rak |
| PÃ©nzÃ¼gyi funkciÃ³k | âœ… | SzÃ¡mla, bizonylat |
| Riportok | âœ… | Export, rÃ©szletes statisztikÃ¡k |
| BeÃ¡llÃ­tÃ¡sok | âœ… | Rendszer konfigurÃ¡ciÃ³ |
| FelhasznÃ¡lÃ³ kezelÃ©s | âœ… | Csak TENANT_ADMIN+ |
| KedvezmÃ©ny adÃ¡s | âœ… | Egyedi Ã¡rak |

---

## RBAC SzerepkÃ¶r Hierarchia (Megtartva)

A meglÃ©vÅ‘ 6 szintÅ± RBAC rendszer tovÃ¡bbra is Ã©rvÃ©nyes a hÃ¡ttÃ©rben:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  RBAC SZEREPKÃ–R HIERARCHIA                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Szint 1: SUPER_ADMIN                                           â”‚
â”‚  â”œâ”€ Teljes rendszer hozzÃ¡fÃ©rÃ©s                                  â”‚
â”‚  â”œâ”€ Minden tenant kezelÃ©se                                      â”‚
â”‚  â””â”€ Rendszer konfigurÃ¡ciÃ³                                       â”‚
â”‚                                                                 â”‚
â”‚  Szint 2: TENANT_ADMIN                                          â”‚
â”‚  â”œâ”€ Franchise partner admin                                     â”‚
â”‚  â”œâ”€ SajÃ¡t tenant teljes kezelÃ©se                                â”‚
â”‚  â””â”€ FelhasznÃ¡lÃ³k kezelÃ©se                                       â”‚
â”‚                                                                 â”‚
â”‚  Szint 3: BRANCH_MANAGER                                        â”‚
â”‚  â”œâ”€ Telephely vezetÅ‘                                            â”‚
â”‚  â”œâ”€ Teljes Ã¼zleti mÅ±veletek                                     â”‚
â”‚  â””â”€ Riportok, statisztikÃ¡k                                      â”‚
â”‚                                                                 â”‚
â”‚  Szint 4: SENIOR_OPERATOR                                       â”‚
â”‚  â”œâ”€ Tapasztalt kezelÅ‘                                           â”‚
â”‚  â”œâ”€ SpeciÃ¡lis mÅ±veletek                                         â”‚
â”‚  â””â”€ ÃrajÃ¡nlat kÃ©szÃ­tÃ©s                                          â”‚
â”‚                                                                 â”‚
â”‚  Szint 5: OPERATOR                                              â”‚
â”‚  â”œâ”€ NormÃ¡l kezelÅ‘                                               â”‚
â”‚  â”œâ”€ AlapvetÅ‘ mÅ±veletek                                          â”‚
â”‚  â””â”€ BÃ©rlÃ©s, Ã©rtÃ©kesÃ­tÃ©s                                         â”‚
â”‚                                                                 â”‚
â”‚  Szint 6: VIEWER                                                â”‚
â”‚  â”œâ”€ Csak olvasÃ¡s                                                â”‚
â”‚  â””â”€ LekÃ©rdezÃ©sek                                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Kapcsolat a belÃ©pÃ©si szintekkel:**
| RBAC Szerep | Max BelÃ©pÃ©si Szint | PIN szÃ¼ksÃ©ges |
|-------------|-------------------|---------------|
| SUPER_ADMIN | 2 (Admin) | Igen |
| TENANT_ADMIN | 2 (Admin) | Igen |
| BRANCH_MANAGER | 2 (Admin) | Igen |
| SENIOR_OPERATOR | 1 (Emelt) | Igen |
| OPERATOR | 0 (Alap) | Nem |
| VIEWER | 0 (Alap) | Nem |

---

## FelhasznÃ¡lÃ³ EntitÃ¡s (FrissÃ­tett)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          FELHASZNÃLÃ“                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  felhasznalo_id (INT)            â”‚
â”‚     tenant_id (UUID) ğŸ¢             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     felhasznalonev (VARCHAR)        â”‚  â† BejelentkezÃ©si nÃ©v
â”‚     jelszo_hash (VARCHAR)           â”‚  â† TitkosÃ­tott jelszÃ³
â”‚     nev (VARCHAR)                   â”‚  â† Teljes nÃ©v
â”‚     kod (VARCHAR)                   â”‚  â† Gyors azonosÃ­tÃ³ kÃ³d
â”‚ ğŸ†• pin_kod_hash (VARCHAR)           â”‚  â† TitkosÃ­tott 4 szÃ¡mjegyÅ± PIN
â”‚     szerep (ENUM: RBAC) ğŸ”          â”‚  â† JogosultsÃ¡gi szint
â”‚     aktiv (BOOLEAN)                 â”‚  â† AktÃ­v felhasznÃ¡lÃ³
â”‚ ğŸ†• pin_hibas_proba (INT)            â”‚  â† HibÃ¡s PIN prÃ³bÃ¡lkozÃ¡sok
â”‚ ğŸ†• pin_zarolas_vege (DATETIME)      â”‚  â† ZÃ¡rolÃ¡s vÃ©ge (ha van)
â”‚ ğŸ†• utolso_aktivitas (DATETIME)      â”‚  â† Session kezelÃ©shez
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Session KezelÃ©s Folyamata

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ğŸ†• SESSION KEZELÃ‰S FOLYAMAT                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  KIOSK GÃ‰P BEKAPCSOLÃS:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. GÃ©p azonosÃ­tÃ¡s (device_id)                           â”‚    â”‚
â”‚  â”‚ 2. Automatikus SZINT 0 belÃ©pÃ©s                          â”‚    â”‚
â”‚  â”‚ 3. Session indÃ­tÃ¡s (5 perc timeout)                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  EMELT FUNKCIÃ“ HASZNÃLATA:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. FelhasznÃ¡lÃ³ PIN bevitel                              â”‚    â”‚
â”‚  â”‚ 2. PIN ellenÅ‘rzÃ©s                                       â”‚    â”‚
â”‚  â”‚    â”œâ”€ Helyes â†’ SZINT 1 vagy 2 (RBAC alapjÃ¡n)            â”‚    â”‚
â”‚  â”‚    â””â”€ HibÃ¡s â†’ SzÃ¡mlÃ¡lÃ¡s + esetleg zÃ¡rolÃ¡s               â”‚    â”‚
â”‚  â”‚ 3. Session frissÃ­tÃ©s (5 perc Ãºjraindul)                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  INAKTIVITÃS (5 perc):                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. Timeout trigger                                      â”‚    â”‚
â”‚  â”‚ 2. VisszaÃ¡llÃ¡s SZINT 0-ra                               â”‚    â”‚
â”‚  â”‚ 3. Ã‰rtesÃ­tÃ©s (opcionÃ¡lis)                               â”‚    â”‚
â”‚  â”‚ 4. Nyitott form-ok mentÃ©se (autosave)                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  ALKALMAZÃS BEZÃRÃS:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. Session lezÃ¡rÃ¡s                                      â”‚    â”‚
â”‚  â”‚ 2. Teljes kijelentkezÃ©s                                 â”‚    â”‚
â”‚  â”‚ 3. ÃšjraindÃ­tÃ¡s â†’ SZINT 0 automatikus                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## JelmagyarÃ¡zat

| SzÃ­n | JelentÃ©s |
|------|----------|
| ğŸŸ¢ ZÃ¶ld | SZINT 0 - Automatikus |
| ğŸŸ¡ SÃ¡rga | SZINT 1 - Emelt (PIN) |
| ğŸ”´ Piros | SZINT 2 - Admin (PIN + RBAC) |
| KÃ©k (#e3f2fd) | FelhasznÃ¡lÃ³ kezelÃ©s |
| Lila (#f3e5f5) | JogosultsÃ¡gok |
| NarancssÃ¡rga (#fbe9e7) | FigyelmeztetÃ©s/ProblÃ©ma |

---

## VÃ¡ltozÃ¡snaplÃ³

| VerziÃ³ | DÃ¡tum | VÃ¡ltozÃ¡s |
|--------|-------|----------|
| v1.0 | 2024-11 | Eredeti verziÃ³ |
| v2.0 | 2024-12 | RBAC 6 szint |
| v3.0 | 2025-12-11 | 3 szintÅ± belÃ©pÃ©s, PIN kÃ³d, session kezelÃ©s (ADR-013) |

---

## KapcsolÃ³dÃ³ Dokumentumok

| Dokumentum | LeÃ­rÃ¡s |
|------------|--------|
| [01-ugyfelfelvitel-erd-2025-12-11.md](01-ugyfelfelvitel-erd-2025-12-11.md) | FelhasznÃ¡lÃ³ entitÃ¡s |
| [ADR-013-fit-gap-dontesek.md](../../architecture/ADR-013-fit-gap-dontesek.md) | PIN kÃ³d Ã©s belÃ©pÃ©si szint dÃ¶ntÃ©sek |
| [09-rbac-hierarchia.md](09-rbac-hierarchia.md) | RBAC rÃ©szletes hierarchia |
