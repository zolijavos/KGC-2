{
  "type": "excalidraw",
  "version": 2,
  "source": "bmad-workflow",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 450,
      "y": 20,
      "width": 500,
      "height": 45,
      "text": "KGC ERP - ÃšJ ENTITÃSOK (7.rÃ©sz)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1e1e1e"
    },
    {
      "id": "subtitle",
      "type": "text",
      "x": 450,
      "y": 70,
      "width": 500,
      "height": 25,
      "text": "Entity-Relationship Diagram - 5 Ãºj entitÃ¡s",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#868e96"
    },
    {
      "id": "ertesites-box",
      "type": "rectangle",
      "x": 50,
      "y": 120,
      "width": 280,
      "height": 250,
      "strokeColor": "#228be6",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "ertesites-title",
      "type": "rectangle",
      "x": 50,
      "y": 120,
      "width": 280,
      "height": 35,
      "strokeColor": "#228be6",
      "backgroundColor": "#1864ab",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "ertesites-title-text",
      "type": "text",
      "x": 60,
      "y": 127,
      "width": 260,
      "height": 25,
      "text": "ğŸ“§ Ã‰RTESÃTÃ‰S",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "ertesites-fields",
      "type": "text",
      "x": 60,
      "y": 165,
      "width": 260,
      "height": 190,
      "text": "ğŸ”‘ ertesites_id    INT (PK)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   tipus           ENUM\n   â€¢ rendelÃ©s_beÃ©rkezett\n   â€¢ fizetÃ©si_emlÃ©keztetÅ‘\n   â€¢ lejÃ¡rat_kÃ¶zeleg\n   â€¢ tartozÃ¡s\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   ugyfÃ©l_id       INT (FK)\n   csatorna        ENUM (sms/email)\n   tartalom        TEXT\n   kuldve          DATETIME\n   statusz         ENUM",
      "fontSize": 12,
      "fontFamily": 3,
      "strokeColor": "#1864ab"
    },
    {
      "id": "munka-gep-box",
      "type": "rectangle",
      "x": 380,
      "y": 120,
      "width": 280,
      "height": 200,
      "strokeColor": "#40c057",
      "backgroundColor": "#ebfbee",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "munka-gep-title",
      "type": "rectangle",
      "x": 380,
      "y": 120,
      "width": 280,
      "height": 35,
      "strokeColor": "#40c057",
      "backgroundColor": "#2f9e44",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "munka-gep-title-text",
      "type": "text",
      "x": 390,
      "y": 127,
      "width": 260,
      "height": 25,
      "text": "ğŸ”§ MUNKA_GÃ‰P_KAPCSOLAT",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "munka-gep-fields",
      "type": "text",
      "x": 390,
      "y": 165,
      "width": 260,
      "height": 140,
      "text": "ğŸ”‘ munka_id        INT (PK)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   munka_nev       VARCHAR\n   â€¢ \"tÃ©glafal fÃºrÃ¡sa\"\n   â€¢ \"fÅ±nyÃ­rÃ¡s\"\n   â€¢ \"beton vÃ¡gÃ¡s\"\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   gep_id          INT (FKâ†’Cikk)\n   prioritas       INT (1-10)\n   alkalmas        BOOLEAN",
      "fontSize": 12,
      "fontFamily": 3,
      "strokeColor": "#2f9e44"
    },
    {
      "id": "karbantartas-box",
      "type": "rectangle",
      "x": 710,
      "y": 120,
      "width": 280,
      "height": 230,
      "strokeColor": "#fab005",
      "backgroundColor": "#fff9db",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "karbantartas-title",
      "type": "rectangle",
      "x": 710,
      "y": 120,
      "width": 280,
      "height": 35,
      "strokeColor": "#fab005",
      "backgroundColor": "#e67700",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "karbantartas-title-text",
      "type": "text",
      "x": 720,
      "y": 127,
      "width": 260,
      "height": 25,
      "text": "ğŸ“– KARBANTARTÃS_ÃšTMUTATÃ“",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "karbantartas-fields",
      "type": "text",
      "x": 720,
      "y": 165,
      "width": 260,
      "height": 170,
      "text": "ğŸ”‘ utmutato_id     INT (PK)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   geptipus        VARCHAR\n   idoszak         ENUM\n   â€¢ tÃ©li\n   â€¢ nyÃ¡ri\n   â€¢ hosszÃº_tÃ¡vÃº\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   lepesek         JSON\n   kepek           JSON\n   video_url       VARCHAR",
      "fontSize": 12,
      "fontFamily": 3,
      "strokeColor": "#e67700"
    },
    {
      "id": "franchise-box",
      "type": "rectangle",
      "x": 50,
      "y": 410,
      "width": 320,
      "height": 280,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#f8f0fc",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "franchise-title",
      "type": "rectangle",
      "x": 50,
      "y": 410,
      "width": 320,
      "height": 35,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#862e9c",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "franchise-title-text",
      "type": "text",
      "x": 60,
      "y": 417,
      "width": 300,
      "height": 25,
      "text": "ğŸª FRANCHISE_PARTNER",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "franchise-fields",
      "type": "text",
      "x": 60,
      "y": 455,
      "width": 300,
      "height": 220,
      "text": "ğŸ”‘ partner_id         INT (PK)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   tenant_id          UUID (FK)\n   nev                VARCHAR\n   csomag             ENUM\n   â€¢ kÃ¶lcsÃ¶nzÅ‘\n   â€¢ szerviz\n   â€¢ komplett\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   telephelyek        JSON\n   jogosultsagok      JSON\n   statisztika_lathato BOOLEAN\n   aktiv              BOOLEAN\n   szerzÅ‘dÃ©s_kezdet   DATE\n   szerzÅ‘dÃ©s_veg      DATE",
      "fontSize": 12,
      "fontFamily": 3,
      "strokeColor": "#862e9c"
    },
    {
      "id": "arres-box",
      "type": "rectangle",
      "x": 420,
      "y": 410,
      "width": 280,
      "height": 200,
      "strokeColor": "#e03131",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "arres-title",
      "type": "rectangle",
      "x": 420,
      "y": 410,
      "width": 280,
      "height": 35,
      "strokeColor": "#e03131",
      "backgroundColor": "#c92a2a",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "arres-title-text",
      "type": "text",
      "x": 430,
      "y": 417,
      "width": 260,
      "height": 25,
      "text": "ğŸ’° ÃRRÃ‰S_KATEGÃ“RIA",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "arres-fields",
      "type": "text",
      "x": 430,
      "y": 455,
      "width": 260,
      "height": 140,
      "text": "ğŸ”‘ kategoria_id    INT (PK)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   cikkcsoport     VARCHAR (FK)\n   arres_szazalek  DECIMAL\n   min_arres       DECIMAL\n   max_arres       DECIMAL\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   tenant_id       UUID (FK)\n   aktiv           BOOLEAN",
      "fontSize": 12,
      "fontFamily": 3,
      "strokeColor": "#c92a2a"
    },
    {
      "id": "partner-ref",
      "type": "rectangle",
      "x": 750,
      "y": 410,
      "width": 240,
      "height": 100,
      "strokeColor": "#868e96",
      "backgroundColor": "#f1f3f5",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "partner-ref-title",
      "type": "rectangle",
      "x": 750,
      "y": 410,
      "width": 240,
      "height": 30,
      "strokeColor": "#868e96",
      "backgroundColor": "#495057",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "partner-ref-title-text",
      "type": "text",
      "x": 760,
      "y": 415,
      "width": 220,
      "height": 20,
      "text": "ğŸ‘¤ PARTNER (meglÃ©vÅ‘)",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "partner-ref-fields",
      "type": "text",
      "x": 760,
      "y": 450,
      "width": 220,
      "height": 50,
      "text": "ğŸ”‘ partner_id   INT (PK)\n   tenant_id    UUID\n   ... meglÃ©vÅ‘ mezÅ‘k",
      "fontSize": 11,
      "fontFamily": 3,
      "strokeColor": "#495057"
    },
    {
      "id": "cikk-ref",
      "type": "rectangle",
      "x": 750,
      "y": 530,
      "width": 240,
      "height": 80,
      "strokeColor": "#868e96",
      "backgroundColor": "#f1f3f5",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "cikk-ref-title",
      "type": "rectangle",
      "x": 750,
      "y": 530,
      "width": 240,
      "height": 30,
      "strokeColor": "#868e96",
      "backgroundColor": "#495057",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "cikk-ref-title-text",
      "type": "text",
      "x": 760,
      "y": 535,
      "width": 220,
      "height": 20,
      "text": "ğŸ“¦ CIKK (meglÃ©vÅ‘)",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "cikk-ref-fields",
      "type": "text",
      "x": 760,
      "y": 565,
      "width": 220,
      "height": 35,
      "text": "ğŸ”‘ cikk_id   INT (PK)\n   ... meglÃ©vÅ‘ mezÅ‘k",
      "fontSize": 11,
      "fontFamily": 3,
      "strokeColor": "#495057"
    },
    {
      "id": "rel1-ertesites-partner",
      "type": "arrow",
      "x": 335,
      "y": 280,
      "width": 415,
      "height": 170,
      "strokeColor": "#228be6",
      "strokeWidth": 2,
      "points": [[0, 0], [415, 0], [415, 170]]
    },
    {
      "id": "rel1-label",
      "type": "text",
      "x": 470,
      "y": 260,
      "width": 150,
      "height": 20,
      "text": "ugyfÃ©l_id â†’ Partner",
      "fontSize": 11,
      "fontFamily": 1,
      "strokeColor": "#228be6"
    },
    {
      "id": "rel2-munka-cikk",
      "type": "arrow",
      "x": 665,
      "y": 240,
      "width": 85,
      "height": 330,
      "strokeColor": "#40c057",
      "strokeWidth": 2,
      "points": [[0, 0], [85, 0], [85, 330]]
    },
    {
      "id": "rel2-label",
      "type": "text",
      "x": 680,
      "y": 350,
      "width": 100,
      "height": 20,
      "text": "gep_id â†’ Cikk",
      "fontSize": 11,
      "fontFamily": 1,
      "strokeColor": "#40c057"
    },
    {
      "id": "tenant-note",
      "type": "rectangle",
      "x": 50,
      "y": 720,
      "width": 940,
      "height": 80,
      "strokeColor": "#1864ab",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "tenant-note-title",
      "type": "text",
      "x": 60,
      "y": 730,
      "width": 920,
      "height": 25,
      "text": "ğŸ¢ MULTI-TENANT MEGJEGYZÃ‰S (ADR-001)",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#1864ab"
    },
    {
      "id": "tenant-note-text",
      "type": "text",
      "x": 60,
      "y": 760,
      "width": 920,
      "height": 30,
      "text": "Minden Ãºj entitÃ¡s tartalmaz tenant_id mezÅ‘t a multi-tenant elkÃ¼lÃ¶nÃ­tÃ©shez. Row Level Security (RLS) a PostgreSQL-ben biztosÃ­tja az adatizolÃ¡ciÃ³t.\nA Franchise_Partner.tenant_id kÃ¶telezÅ‘, mÃ¡s entitÃ¡sok kÃ¶zponti vagy franchise kontextusban is mÅ±kÃ¶dhetnek.",
      "fontSize": 12,
      "fontFamily": 1,
      "strokeColor": "#1864ab"
    },
    {
      "id": "legend-bg",
      "type": "rectangle",
      "x": 420,
      "y": 630,
      "width": 280,
      "height": 70,
      "strokeColor": "#868e96",
      "backgroundColor": "#f8f9fa",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "legend-title",
      "type": "text",
      "x": 430,
      "y": 640,
      "width": 260,
      "height": 20,
      "text": "ğŸ“‹ JELMAGYARÃZAT",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "legend-text",
      "type": "text",
      "x": 430,
      "y": 665,
      "width": 260,
      "height": 30,
      "text": "ğŸ”‘ = Primary Key    FK = Foreign Key\nSzÃ­nes = Ãšj entitÃ¡s   SzÃ¼rke = MeglÃ©vÅ‘ ref.",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#495057"
    },
    {
      "id": "holding-ref-box",
      "type": "rectangle",
      "x": 50,
      "y": 710,
      "width": 320,
      "height": 150,
      "strokeColor": "#1864ab",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "holding-ref-title",
      "type": "rectangle",
      "x": 50,
      "y": 710,
      "width": 320,
      "height": 35,
      "strokeColor": "#1864ab",
      "backgroundColor": "#1864ab",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0
    },
    {
      "id": "holding-ref-title-text",
      "type": "text",
      "x": 60,
      "y": 717,
      "width": 300,
      "height": 25,
      "text": "ğŸ¢ HOLDING (8.rÃ©sz ref.) ğŸ†•",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#fff"
    },
    {
      "id": "holding-ref-fields",
      "type": "text",
      "x": 60,
      "y": 755,
      "width": 300,
      "height": 90,
      "text": "ğŸ”‘ holding_id       INT (PK)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   nev              VARCHAR\n   adoszam          VARCHAR\n   szekhelycim      TEXT\n   â†’ FRANCHISE_PARTNER.holding_id (FK) ğŸ†•",
      "fontSize": 12,
      "fontFamily": 3,
      "strokeColor": "#1864ab"
    },
    {
      "id": "holding-franchise-rel",
      "type": "arrow",
      "x": 210,
      "y": 710,
      "width": 0,
      "height": 20,
      "strokeColor": "#1864ab",
      "strokeWidth": 2,
      "points": [[0, 0], [0, -20], [0, -300]]
    },
    {
      "id": "holding-note-box",
      "type": "rectangle",
      "x": 420,
      "y": 710,
      "width": 570,
      "height": 60,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ebfbee",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "holding-note-text",
      "type": "text",
      "x": 430,
      "y": 720,
      "width": 550,
      "height": 40,
      "text": "ğŸ†• 8. RÃ‰SZ BÅVÃTÃ‰S: FRANCHISE_PARTNER entitÃ¡s bÅ‘vÃ¼l holding_id mezÅ‘vel.\nA holding struktÃºra lehetÅ‘vÃ© teszi a KGC Holding â†’ LeÃ¡nyvÃ¡llalatok hierarchiÃ¡t.",
      "fontSize": 12,
      "fontFamily": 1,
      "strokeColor": "#2f9e44"
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff",
    "gridSize": null
  }
}
